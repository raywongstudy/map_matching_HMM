# 基于HMM的地图匹配程序

簡介
因為最近我開始做Map Matching的學習，把不準的GPS用簡單算法做GPS點和路徑匹配。 本项目实现了一个基于隐藏马尔可夫模型（HMM）的地图匹配算法，将GPS观测点（例如，红点）匹配到给定的公交路线（GPS轨迹）上。该程序使用Python编写，并利用了NumPy、Matplotlib等库进行计算和可视化。

## 背景介绍

在GPS导航和轨迹分析中，GPS数据往往存在噪声和误差，这使得定位点可能偏离实际道路。地图匹配算法的目的是将这些偏离的GPS点准确地匹配到实际的道路网络上，从而获得更准确的位置信息。

隐藏马尔可夫模型（HMM）是一种统计模型，适用于解决状态序列未知但观测序列已知的问题。将HMM应用于地图匹配，可以有效地考虑GPS观测的误差和道路网络的拓扑结构，实现更准确的匹配。

## 功能特性

- **候选点生成**：为每个GPS观测点在指定半径内生成候选匹配点。
- **发射概率计算**：基于高斯分布计算观测点与候选点之间的发射概率。
- **转移概率计算**：基于指数分布计算候选点之间的转移概率。
- **维特比算法**：使用维特比算法寻找最可能的匹配路径。
- **可视化**：绘制原始公交路线、GPS观测点、匹配结果，并支持中文显示。

## 安装依赖

在运行本程序之前，请确保已安装以下Python库：

- Python 3.x
- NumPy
- Matplotlib

使用以下命令安装依赖：

```bash
pip install numpy matplotlib
```

## 结果展示
运行程序后，将显示一张绘图，包含：

公交路线（棕色线条）
GPS轨迹点（蓝色点）
需要匹配的红点（红色点）
匹配结果（绿色点）
匹配连线（灰色虚线）
![image](https://github.com/raywongstudy/map_matching_HMM/blob/main/image.png)

注：请将图片替换为实际运行结果的截图。